(this["webpackJsonpoclock-test"]=this["webpackJsonpoclock-test"]||[]).push([[0],{60:function(e,t,a){e.exports=a(89)},65:function(e,t,a){},66:function(e,t,a){},84:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),l=a.n(r),i=(a(65),a(66),a(128)),u=a(129),s=a(22),o=c.a.createContext({selectedDevice:"EUR",changeDevice:function(e){},fetchRate:function(e,t,a){}}),d=a(49),v=a.n(d),m=function(e,t,a){console.log("loading"),v.a.get("http://data.fixer.io/api/latest",{params:{base:"EUR",access_key:"811513ec9211e6a63b6f694ceb5bafd6"}}).then((function(t){if(!t.data||!t.data.success||!t.data.rates)return Promise.reject(t);e(t.data.rates)})).catch((function(e){console.log("fetching api error:",e),t(!0)})).finally((function(){return a(!1)}))},b=(a(84),a(127)),f=a(132),E=a(52),p=a.n(E),g=a(121);var h=function(e){return c.a.createElement("div",null,c.a.createElement(g.a,null),c.a.createElement("br",null),"Chargement des taux de change")},j=a(51),O=a.n(j);var y=function(e){return c.a.createElement("div",null,c.a.createElement(O.a,null),c.a.createElement("br",null),"Impossible de charger les derniers taux de change.",c.a.createElement("br",null),"Veuillez r\xe9-essayer plutard")},k=a(130),N=a(131),R=Object(n.memo)((function(e){var t=Object(n.useContext)(o);return c.a.createElement(k.a,{labelId:"device-select-label",id:"device-select-label",value:t.selectedDevice,onChange:t.changeDevice},Object.keys(e.devicesRates).map((function(e){return c.a.createElement(N.a,{key:e,value:e},e)})))}));var w=function(){var e=Object(n.useState)({device:"EUR",rate:1}),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)({}),i=Object(s.a)(l,2),u=i[0],d=i[1],v=Object(n.useState)(!0),E=Object(s.a)(v,2),g=E[0],j=E[1],O=Object(n.useState)(!1),k=Object(s.a)(O,2),N=k[0],w=k[1],I=Object(n.useState)(1),S=Object(s.a)(I,2),x=S[0],C=S[1],D=Object(n.useState)(.9),P=Object(s.a)(D,2),U=P[0],z=P[1],A=function(){m(d,w,j)};return Object(n.useEffect)((function(){z(x*a.rate)}),[a,x]),Object(n.useEffect)((function(){A()}),[]),N?c.a.createElement(y,null):g?c.a.createElement(h,null):c.a.createElement("div",{className:"currency-converter-wrapper"},c.a.createElement(o.Provider,{value:{selectedDevice:a.device,changeDevice:function(e){r({device:e.target.value,rate:u[e.target.value]})},fetchRate:A}},c.a.createElement(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},c.a.createElement(f.a,{id:"user-value",label:"EUR",type:"number",InputLabelProps:{shrink:!0},variant:"outlined",value:x,onChange:function(e){C(e.target.value)},className:"converter-input"}),c.a.createElement(p.a,{fontSize:"large",className:"converting-icon"}),c.a.createElement(f.a,{id:"converted-value",label:a.device,type:"number",InputLabelProps:{shrink:!0},disabled:!0,variant:"outlined",className:"converter-input",value:U})),c.a.createElement(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",className:"device-selector-grid"},c.a.createElement("div",{className:"user-device-div"},"Euro"),c.a.createElement(R,{devicesRates:u}))))};var I=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(i.a,null,c.a.createElement(u.a,null,c.a.createElement("h2",null,"Convertisseur de devises"),c.a.createElement(w,null)))))};l.a.render(c.a.createElement(I,null),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.e4a5aa9c.chunk.js.map